**Link Github Repo**

- [Github Repo](https://github.com/FAITH-ORAN/asi-3-23-dev-a-rest-api-exercise)

**Documentation postman**

- To view my documentation on Postman please click [postman](https://documenter.getpostman.com/view/2s93JnVSVB?version=latest#b72a75b5-2f96-4a3c-8fad-8b7d895f1fc6)

- the {{url}} is your localhost, ex: http://localhost/5000

**CRM API light**

- The database used is mongoDB.
- Env variables are inside a file "config.env" inside config folder , you need to put :

  NODE_ENV = development.

  PORT = 5000.

  MONGO_URI = your own information -> the url generated by mongo for your application, it contain your username+password+info of your db.

  JWT_SEC = your own secret jwt(numbers+letters).

  JWT_EXPIRE = total of days when the twt should expire you put like this example-> 5d.

  SMTP_HOST = create a account in mailtrap -> Email Sandbox to inspect and debug emails in staging, dev, and QA environments before sending them to recipients in production.

  SMTP_PORT = find this info in your account mailtrap.

  SMTP_EMAIL = find this info in your account mailtrap.

  SMTP_PASSWORD =find this info in your account mailtrap.

  FROM_EMAIL = noreply@light.com
  FROM_NAME = TeamLight

  **How to use this API**

  1- run npm i -> to install all the dependencies ("express","mongoose","morgan","casual: dependencie to make a fake data", "slugify: to cretae a slug","nodemon -> you don't need to restart the server with this depend","jsonWebToken,bcryptJs,coockie-parser,crypto,nodemailer)

  2- run this commande: node seeder -i, i create a script , it importe all the json file from data folder into database, so you will have (pages+navigationMenu)
  Markdown Preview Enhanced

  **Permission & role**

  - for role admin, you must add it directly into the db

  **Reset Password**

  - I use mailtrap to test sending mail and read it to reset password.

  - I use nodemailer dependencie to send Email with message and generated token (is hashed).

    <img src="https://res.cloudinary.com/dfqxbwfnc/image/upload/v1678011862/samples/javaFx/7B62729F-8076-43C2-A222-EE4696549843_1_105_c_gpm3ms.jpg" width="600" height="300" src="snap shoot from my mailtrap">

  **Security**

  - i use express-mongo-sanitize to prevent noSQL injections
  - helmet package helps to secure Express apps by setting various HTTP headers
  - xss-clean package prevent put html code and script
  - hpp package protect against HTTP Parameter Pollution attacks
